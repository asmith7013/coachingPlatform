---
description: 
globs: 
alwaysApply: false
---
Here is your updated and finalized Cursor Prompt â€” now including explicit enforcement of the textSize naming rule and eliminating all remaining ambiguity. Copy this directly into .cursor/rules/variant-refactor.mdc or use as a project-wide task:

âœ… Unified UI Variant Refactor Prompt

Split size, Migrate textColors, and Centralize Variant Types

ğŸ”„ Summary of Refactor

What Changed:
	â€¢	size variants are deprecated.
	â€¢	Replaced with:
	â€¢	textSize â†’ from tokens/typography.ts
	â€¢	padding â†’ from tokens/spacing.ts
	â€¢	All color variants must use global textColors from @/lib/ui/tokens
	â€¢	No local color definitions inside tv() calls.
	â€¢	Shared VariantProps types must be centralized in variants/types.ts.

ğŸ§© Step 1: Split size into textSize and padding

ğŸ¯ Goal

Replace all bundled size variants with separate, token-driven textSize and padding variants.

âœ… Instructions
	1.	Find and remove any variant like:

variants: { size: ... } // âŒ

	2.	Replace with:

import { textSizeVariant, paddingVariant } from '@/lib/ui/sharedVariants'

variants: {
  textSize: textSizeVariant.variants.textSize,
  padding: paddingVariant.variants.padding,
  ...
}

	3.	Set default variants:

defaultVariants: {
  textSize: 'base',
  padding: 'md',
}

	4.	Update prop types:

import type { VariantProps } from 'tailwind-variants'
export type MyComponentVariants = VariantProps<typeof myComponent>

textSize?: MyComponentVariants['textSize']
padding?: MyComponentVariants['padding']

ğŸš¨ Enforced Naming Rule

	Do not use size as a key in your variants block â€” even if referencing textSizeVariant.

variants: {
  size: textSizeVariant.variants.size // âŒ Wrong key
  // This still violates your token convention!
}

âœ… Correct usage:

variants: {
  textSize: textSizeVariant.variants.textSize // âœ…
}

âœ… Also update downstream prop usage:

textSize?: TextSizeVariant // âœ…
â†“
size?: ... // âŒ Never use `size` again

ğŸ§© Step 2: Refactor Local Color Maps to textColors

ğŸ¯ Goal

Eliminate any inline color objects and replace with global textColors.

âœ… Instructions
	1.	Delete local color definitions:

const color = { ... } // âŒ Remove

	2.	Update variant usage:

variants: { color: color } // âŒ
â†“
import { textColors } from '@/lib/ui/tokens'

variants: { color: textColors } // âœ…

	3.	Ensure the correct import:

import { textColors } from '@/lib/ui/tokens'

âœ… Target Files
	â€¢	src/lib/ui/typography.ts
	â€¢	src/lib/ui/variants/typography.ts
	â€¢	src/components/ui/typography/*
	â€¢	Any tv() call that defines a color variant

ğŸ§© Step 3: Centralize Variant Type Definitions

ğŸ¯ Goal

Stop repeating VariantProps<typeof ...> inline. Use types from variants/types.ts.

âœ… Instructions
	1.	In src/lib/ui/variants/types.ts, export shared types:

import type { VariantProps } from 'tailwind-variants'
import {
  textSizeVariant,
  paddingVariant,
} from '../sharedVariants'
import {
  radiusVariant,
  shadowVariant,
  disabledVariant,
  loadingVariant,
  fullWidthVariant,
} from './common'

export type TextSizeVariant = VariantProps<typeof textSizeVariant>['textSize']
export type PaddingVariant = VariantProps<typeof paddingVariant>['padding']
export type RadiusVariant = VariantProps<typeof radiusVariant>['rounded']
export type ShadowVariant = VariantProps<typeof shadowVariant>['shadow']
export type DisabledVariant = VariantProps<typeof disabledVariant>['disabled']
export type LoadingVariant = VariantProps<typeof loadingVariant>['loading']
export type FullWidthVariant = VariantProps<typeof fullWidthVariant>['fullWidth']

	2.	Refactor component props:

Before:

export type InputVariants = VariantProps<typeof input>

textSize?: InputVariants['textSize']
padding?: InputVariants['padding']

After:

import type { TextSizeVariant, PaddingVariant } from '@/lib/ui/variants/types'

textSize?: TextSizeVariant
padding?: PaddingVariant



ğŸ“‹ Addendum: Track Refactor Progress

âœ… At the end of this refactor, clearly list all updated components in your PR description or commit message.

Example:

âœ… Updated components:
- Input.tsx
- Select.tsx
- FieldWrapper.tsx
- Button.tsx
- Text.tsx
- Heading.tsx

